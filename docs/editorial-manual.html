<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Editorial Manual – Style Guide, Editorial, &amp; Publishing Manual</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./publishing-manual.html" rel="next">
<link href="./article-templates.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./editorial-manual.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Editorial Manual</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Style Guide, Editorial, &amp; Publishing Manual</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/cs4rl/style-editorial-publishing-manual" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Style-Guide,-Editorial,---Publishing-Manual.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Style-Guide,-Editorial,---Publishing-Manual.docx">
              <i class="bi bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Style Guide</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./article-templates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Article Templates</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./editorial-manual.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Editorial Manual</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./publishing-manual.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Publishing Manual</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#mission-statement" id="toc-mission-statement" class="nav-link active" data-scroll-target="#mission-statement"><span class="header-section-number">4.1</span> Mission statement</a></li>
  <li><a href="#contents" id="toc-contents" class="nav-link" data-scroll-target="#contents"><span class="header-section-number">4.2</span> Contents</a>
  <ul class="collapse">
  <li><a href="#glossary" id="toc-glossary" class="nav-link" data-scroll-target="#glossary"><span class="header-section-number">4.2.1</span> Glossary</a></li>
  </ul></li>
  <li><a href="#editorial-management" id="toc-editorial-management" class="nav-link" data-scroll-target="#editorial-management"><span class="header-section-number">4.3</span> Editorial management</a></li>
  <li><a href="#notes-for-editors" id="toc-notes-for-editors" class="nav-link" data-scroll-target="#notes-for-editors"><span class="header-section-number">4.4</span> Notes for editors</a></li>
  <li><a href="#notes-for-reviewers" id="toc-notes-for-reviewers" class="nav-link" data-scroll-target="#notes-for-reviewers"><span class="header-section-number">4.5</span> Notes for reviewers</a></li>
  <li><a href="#article-finishing-by-editors-checklist" id="toc-article-finishing-by-editors-checklist" class="nav-link" data-scroll-target="#article-finishing-by-editors-checklist"><span class="header-section-number">4.6</span> Article finishing by editors (Checklist)</a></li>
  <li><a href="#guidelines-for-front-matter-and-back-matter" id="toc-guidelines-for-front-matter-and-back-matter" class="nav-link" data-scroll-target="#guidelines-for-front-matter-and-back-matter"><span class="header-section-number">4.7</span> Guidelines for front matter and back matter</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/cs4rl/style-editorial-publishing-manual/edit/main/editorial-manual.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Editorial Manual</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>[<a href="https://drive.google.com/drive/folders/1LxoxOoPWMtRPa0S2PDPyUqAyVPfbPJyM">Edit on GDocs</a>]</p>
<section id="mission-statement" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="mission-statement"><span class="header-section-number">4.1</span> Mission statement</h2>
<p>The guide is designed to be a practical and compact gateway publication for the purpose of assisting research libraries to start setting up a Citizen Science programme.<br>
Citizen Science for research libraries is a way to build new and more engaged audiences as a way to establish new links between science and society.<br>
The guide will address the unique context of research libraries – as becoming the ‘go to place’ for the new and exciting Open Science data world that is opening up to the wider public.<br>
As a starting point the guide will use the four recommendations for Citizen Science from the <a href="https://doi.org/10.5281/zenodo.1303002">LIBER Open Science Roadmap</a>: infrastructures; good scientific practice; guidelines, and; skilling.</p>
</section>
<section id="contents" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="contents"><span class="header-section-number">4.2</span> Contents</h2>
<p>The content will be organised around the following four main sections and release in sequential modules for reuse. The top level sections are set but the section contents should be seen as working ideas or suggestions for content.</p>
<ol type="1">
<li>Skills: Citizen Science skills development for staff, researchers, and the public;<br>
</li>
<li>Infrastructures: As being active in the development of infrastructure for researchers to carry out Citizen Science;<br>
</li>
<li>Open Science Meets Citizen ScienceGood [open] scientific practice: as managing bodies around knowledge libraries that can translate good [Open Science] scholarly practice into new Citizen Science fields, and;<br>
</li>
<li>Guidelines: develop guidelines for Citizen Science activities involving the library.</li>
</ol>
<section id="glossary" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="glossary"><span class="header-section-number">4.2.1</span> Glossary</h3>
<p>Start with Simple Knowledge Organization System (<a href="https://www.w3.org/2004/02/skos/">SKOS</a>) terms, then fit to taxonomies, add to Wikidata, then describe. Use as a SEO primer. Here is an <a href="https://demo.hedgedoc.org/Dk4aKir9RyO1pi3jwr4Psw#Outline">Open Science</a> example.</p>
</section>
</section>
<section id="editorial-management" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="editorial-management"><span class="header-section-number">4.3</span> Editorial management</h2>
<ul>
<li>peer review / roles</li>
</ul>
<p>Co-Editors-in-Chief: Simon Worthington and Thomas Kaarsted, reports to CSWG. The role is that of content planning and project management – that contributions fulfill the mission to make a compelling and exciting end product; ensuring publication review groups and production workflows stay on track. Duties: maintain content outline; organise meeting schedule; oversee technical production, and; responsible for legal, ethical, and quality guidelines and standards compliance on behalf of CSWG.<br>
Editorial committee (can also peer review): Chair – Paul Ayris, with a minimum of four members of the committee. The committee is made up of the section editors. There will be one section editor per section of four sections (optionally sometimes two section editors). The committee has the final editorial signoff on content. The role of the committee is content coordination and commissioning contributions – that sections have enough content, the right type of content, and that style guides and templates, etc., are being followed.<br>
Section editors: The role of the section editor is to oversee that the content fits the scope and editorial policy. Section editors work with close support from the Editors-in-Chief and report to the editorial committee with the content of the section, recruit contributors, and correspond with peer reviewers. Section editors would ensure that contributors have followed contributor guidelines.<br>
Section editors are:</p>
<ol type="1">
<li>Citizen Science research infrastructure – Kirsty Wallis, University College London, ORCID iD: <a href="https://orcid.org/0000-0002-9570-6174">0000-0002-9570-6174</a>, k.wallis@ucl.ac.uk<br>
</li>
<li>Open Science Meets Citizen ScienceGood (Open Science) scholarly practice in Citizen Science – Bastian Greshake Tzovaras, OpenHumans, ORCID iD: <a href="https://orcid.org/0000-0002-9925-9623">0000-0002-9925-9623</a>, bgreshake@proton.me<br>
</li>
<li>Guidelines for Citizen Science programme development in libraries – Raphaëlle BatsPaul Ayris, Université de BordeauxUniversity College London, ORCID id: <a href="https://orcid.org/0000-0003-2165-8453">0000-0003-2165-8453</a>, e-mail: raphaelle.bats@u-bordeaux.fr<br>
</li>
<li>Citizen Science Skilling for Staff, Researchers, and the Public – Jitka Stilund Hansen, DTU Library, Technical University of Denmark, ORCID iD: <a href="https://orcid.org/0000-0002-5888-1221">0000-0002-5888-1221</a> e-mail: jstha@dtu.dk</li>
</ol>
<p>Contributor: A contributor would provide one or two articles in agreement with section editors following the templates and style sheet of the guide.<br>
Peer review: Carry out some parts as Open Peer Review. Made up of people appointed by section editors. There will be two peer reviewers per section. The reviews will be selected from – CSWG; editorial committee; external appointees, and publication partners and collaborators.</p>
<ul>
<li>peer review</li>
</ul>
<p>Scientific peer review: The editorial committee would aim to appoint two experts in the field as external reviewers.<br>
Partners: Bring on contributing partners to the publication as institutional partners. Primarily these partners would provide and exchange content, as experts in the field, and be co-producers. These partners could also contribute resources and be attributed: DOIs, ISBN, profiling, translations, etc. Letters of agreement would be made with partners.<br>
Collaborations: These would orientate around content provision, advocacy, research and resource provision.</p>
</section>
<section id="notes-for-editors" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="notes-for-editors"><span class="header-section-number">4.4</span> Notes for editors</h2>
<ul>
<li>Style guide, and contribution templates</li>
</ul>
<p>Co-Editors-in-Chief Simon Worthington and Thomas Kaarsted will provide writers guidelines for you to distribute to contributors.<br>
All character counts are inclusive white spaces.<br>
The section editor will ask theWe would encourage contributors to do the following:</p>
<ul>
<li>To make available check lists or materials used in CS activities and supply us with information on these and then we can see how to include them as either incorporated check lists or as external linked content.<br>
</li>
<li>To provide us with visual material to support contributions: photo documentation of past events; PDFs of promotional material, videos and video links so that we can look at how to creatively include these in articles.<br>
</li>
<li>References will be typeset as CMOS note bibliography per article, with no author date inline, and in a <a href="https://www.zotero.org/groups/2420395/cswg/collections/HAJYX37C">Zotero Groups - Collection</a>.<br>
</li>
<li>If possible use Zotero citation manager in Google Docs and store citations in the CSWG Zotero group, see: <a href="https://www.zotero.org/groups/2420395/cswg/collections/HAJYX37C">https://www.zotero.org/groups/2420395/cswg/collections/HAJYX37C</a><br>
</li>
<li>Sections should be thought of as 25 page sections, with 400 words a page as a guide.</li>
</ul>
</section>
<section id="notes-for-reviewers" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="notes-for-reviewers"><span class="header-section-number">4.5</span> Notes for reviewers</h2>
<p>Please read the contribution thoroughly and comment on the following:</p>
<ul>
<li>Does the contribution match to the overall conception of the guide’s section?<br>
</li>
<li>Is the contribution relevant to the readers?<br>
</li>
<li>Is the title of the contribution appropriate?<br>
</li>
<li>Is the headline summary convincing?<br>
</li>
<li>Is the line of argument convincing?<br>
</li>
<li>Is the division into sections appropriate?<br>
</li>
<li>Are the core references appropriate?<br>
</li>
<li>Does the length of the contribution meet the guidelines?<br>
</li>
<li>Does the number of images and other visual material meet the guidelines? Do the captions address the the copyright issue, e.g.&nbsp;Creative Commons Licence?<br>
</li>
<li>Has the style guide been followed as to the following issues?
<ul>
<li>UK English<br>
</li>
<li>comma<br>
</li>
<li>dashes<br>
</li>
<li>punctation<br>
</li>
<li>capitalisation</li>
</ul></li>
</ul>
<p>Make a recommendation to the section editor if the contribution should be published / published with revisions / rejected within four weeks after receiviing the manuscript.</p>
</section>
<section id="article-finishing-by-editors-checklist" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="article-finishing-by-editors-checklist"><span class="header-section-number">4.6</span> Article finishing by editors (Checklist)</h2>
<ol type="1">
<li>Processing review edits: Save a names revision before processing edits so that we have a copy of the reviews if they have been added as comments or track changes.<br>
</li>
<li>Article images.: Editors need to placeadd article images provided by the contributors when layouting. Articles need a featured image if possible, note it’s optional to have a featured image. This should be placed immediately after the article title or after the intro and author credit. It depends on how the article looks in layout as to its placement. Place other images in the article to help communicate the work. If the contributor or youself cannot source any images then please raise a ticket and the editorial group will take on board the task.<br>
</li>
<li>Use of academic titles for authors and editors:? Generally remove. But if unsure consult the editorial group for support <a href="https://github.com/cs4rl/guide/issues/35">cs4rl/guide#35</a>
<ol type="1">
<li>Use them if provided by author in attribution? TBC<br>
</li>
<li>Book information: Copyright pages, authors, etc., do not use<br>
</li>
</ol></li>
<li>The text should have a Title (between 1 and 10 words).<br>
</li>
<li>The text should have a headline summary that briefly outlines the content of the section (max. 30 words).<br>
</li>
<li>For each introduction author submit a name, department and institution, and ORCID iD. But not job title. See example <a href="https://write.handbuch.io/document/465">https://write.handbuch.io/document/465</a><br>
</li>
<li>Article DOI line. Add as Article DOI: 10.25815/f360-s580 | You can retrieve DOIs from the article page plan Google spreadsheet. <a href="https://docs.google.com/spreadsheets/d/1cPhzMjs3otETY_jHPOa43TWs4IaGgIllmHa1SpcGsVY/edit#gid=0">https://docs.google.com/spreadsheets/d/1cPhzMjs3otETY_jHPOa43TWs4IaGgIllmHa1SpcGsVY/edit#gid=0</a><br>
</li>
<li>Article Info Boxes and Case Studies formatting: Currently this is a bit of a work around as applying an inline style is not possible in other ways. To make an info box first create a table with only one cell, then paste content into the cell and format as usual. The effect of using the table is that it puts a blue background behind and around the text.<br>
</li>
<li>Please divide the text into sections, with the following. Note: There is a Header hierarchy view on the left of Documents accessible via the ‘scroll’ icon.:
<ol type="1">
<li>Headings H2,<br>
</li>
<li><em>Subheadings H3.</em><br>
</li>
</ol></li>
<li>Do not include a Table of Contents.<br>
</li>
<li>Use single space for spacing.<br>
</li>
<li>Do not use line spaces between paragraphs or for line spacing, instead use space before and after paragraph or header.<br>
</li>
<li>Use single column format.<br>
</li>
<li>Tables and figures. To be placed in individual files. Tables should serve a purpose and display cores data in a brief and structured way.<br>
</li>
<li>Each Table and Figure are automatically numbered by the publishing pipeline, there is no need to manually add them. A brief description placed below that correspond with the file. All Figures in min. 600 dpi resolution or vector graphic.<br>
</li>
<li>A maximum of three core references listed at the very bottom.<br>
</li>
<li>Use The Chicago Manual of Style 187th Edition style for references. All references should have an author or organization given first. Also please list a DOI for each reference if possible.<br>
Sample reference:<br>
Ayris, Paul, Isabel Bernal, Valentino Cavalli, Bertil Dorch, Jeannette Frey, Martin Hallik, Kristiina Hormia-Poutanen, et al.&nbsp;‘LIBER Open Science Roadmap’. LIBER, 2 July 2018. .<br>
</li>
<li>For any additional details please contact the Co-Editors-in-Chief: Simon Worthington (simon.worthington@tib.eu) or Thomas Kaarsted (thk@bib.sdu.dk).<br>
</li>
<li>Author and editor profiles. ORCID ORCID iD: followed by 16 digit number and not URL as commonly used. No full stop or comma after ORCID iD or e-mail as to not interfere with both. Link to both and make links active.</li>
</ol>
<p>See example: By Jitka Stilund Hansen, DTU Library, Technical University of Denmark, (ORCID iD: <a href="https://orcid.org/0000-0002-5888-1221">0000-0002-5888-1221</a>).</p>
<ol type="1">
<li>Refer to sections numbers as Section #1 or Section #2.</li>
</ol>
</section>
<section id="guidelines-for-front-matter-and-back-matter" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="guidelines-for-front-matter-and-back-matter"><span class="header-section-number">4.7</span> Guidelines for front matter and back matter</h2>
<p>Cover</p>
<p>Sprine</p>
<p>Title page</p>
<p>Table of continents</p>
<p>Colophon</p>
<p>Contributors</p>
<p>Index</p>
<p>Back cover</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./article-templates.html" class="pagination-link" aria-label="Article Templates">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Article Templates</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./publishing-manual.html" class="pagination-link" aria-label="Publishing Manual">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Publishing Manual</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/cs4rl/style-editorial-publishing-manual/edit/main/editorial-manual.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>